(function(){var t={6479:function(t,e,o){"use strict";o.r(e);var r=o(2512),n=o.n(r),s=o(1736),a=o.n(s),c=new(n())({id:"label",use:"label-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="label"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M796.992 497.696l-333.376 333.44h-0.128L191.904 559.68l333.44-333.44C533.472 225.408 553.6 224 601.28 224c82.24 0 191.68 4 193.824 5.12 4.16 111.296 5.824 236.896 1.92 268.576m62.08-269.76c0-35.2-28.64-63.84-62.656-63.84h-0.064C795.296 164.064 684.704 160 601.28 160c-96.16 0-104.8 4.64-115.2 15.04L146.656 514.464c-24.96 24.96-24.896 65.6 0.16 90.656l271.232 271.232c12.16 12.128 28.256 18.784 45.44 18.784 17.152 0 33.184-6.624 45.184-18.624l339.424-339.424c11.2-11.2 21.76-21.76 10.976-309.152" p-id="6346" /><path d="M609.376 440.288c-26.464 0-48-21.536-48-48s21.536-48 48-48 48 21.536 48 48-21.536 48-48 48m0-160c-61.76 0-112 50.24-112 112s50.24 112 112 112 112-50.24 112-112-50.24-112-112-112" p-id="6347" /></symbol>'});a().add(c);e["default"]=c},3094:function(t,e,o){"use strict";o.r(e);var r=o(2512),n=o.n(r),s=o(1736),a=o.n(s),c=new(n())({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="left"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M704 138.667c8.53299999 0 17.067 4.26599999 23.467 10.666 12.8 12.8 10.666 34.134-2.13399999 44.8L369.06699999 512 725.33300001 829.867c12.8 10.666 14.934 32 2.13399999 44.8-10.667 12.79999999-32 14.933-44.8 2.133l-384-341.33300001c-6.4-6.4-10.667-14.93400001-10.66700001-23.46699999s4.267-17.067 10.66700001-23.46699999l384-341.33300001c6.4-6.4 12.8-8.53299999 21.333-8.533z" p-id="632" /></symbol>'});a().add(c);e["default"]=c},5951:function(t,e,o){"use strict";o.r(e);var r=o(2512),n=o.n(r),s=o(1736),a=o.n(s),c=new(n())({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="money"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" fill="" p-id="7378" /></symbol>'});a().add(c);e["default"]=c},1887:function(t,e,o){"use strict";o.r(e);var r=o(2512),n=o.n(r),s=o(1736),a=o.n(s),c=new(n())({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="right"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M320 885.333333c-8.533333 0-17.066667-4.266667-23.466667-10.666666-12.8-12.8-10.666667-34.133333 2.133334-44.8L654.933333 512 298.666667 194.133333c-12.8-10.666667-14.933333-32-2.133334-44.8 10.666667-12.8 32-14.933333 44.8-2.133333l384 341.333333c6.4 6.4 10.666667 14.933333 10.666667 23.466667 0 8.533333-4.266667 17.066667-10.666667 23.466667l-384 341.333333c-6.4 6.4-12.8 8.533333-21.333333 8.533333z" p-id="2210" /></symbol>'});a().add(c);e["default"]=c},498:function(t,e,o){"use strict";o.r(e);var r=o(2512),n=o.n(r),s=o(1736),a=o.n(s),c=new(n())({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="statistics"><defs><style type="text/css">@font-face { font-family: feedback-iconfont; src: url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff2?t=1630033759944") format("woff2"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.woff?t=1630033759944") format("woff"), url("//at.alicdn.com/t/font_1031158_u69w8yhxdu.ttf?t=1630033759944") format("truetype"); }\n</style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z" p-id="5431" /><path d="M288 712h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zM440 712h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zM592 712h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zM744 712h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z" p-id="5432" /></symbol>'});a().add(c);e["default"]=c},3406:function(t,e,o){"use strict";var r=o(6369),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],a=o(1001),c={},i=(0,a.Z)(c,n,s,!1,null,null,null),l=i.exports,u=o(5431);(0,u.z)("/tally-web/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var f=o(2631),d=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",{attrs:{"class-prefix":"layout"}},[e("NumberPad",{on:{"update:value":t.onUpdateAmount,submit:t.saveRecord}}),e("Tab",{attrs:{"data-source":t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}}),e("div",{staticClass:"notes"},[e("FormItems",{attrs:{fieldName:"备注",placeholder:"在这里输入备注",value:t.record.notes},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}})],1),e("Tags",{on:{"update:value":function(e){t.record.tags=e}}})],1)},p=[],v=o(2482),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"numberPad"},[e("div",{staticClass:"output"},[t._v(t._s(t.output))]),e("div",{staticClass:"buttons"},[e("button",{on:{click:t.inputContent}},[t._v("1")]),e("button",{on:{click:t.inputContent}},[t._v("2")]),e("button",{on:{click:t.inputContent}},[t._v("3")]),e("button",[t._v("+")]),e("button",{on:{click:t.remove}},[t._v("删除")]),e("button",{on:{click:t.inputContent}},[t._v("4")]),e("button",{on:{click:t.inputContent}},[t._v("5")]),e("button",{on:{click:t.inputContent}},[t._v("6")]),e("button",[t._v(" -")]),e("button",{on:{click:t.clear}},[t._v("清空")]),e("button",{on:{click:t.inputContent}},[t._v("7")]),e("button",{on:{click:t.inputContent}},[t._v("8")]),e("button",{on:{click:t.inputContent}},[t._v("9")]),e("button",[t._v("x")]),e("button",{staticClass:"ok",on:{click:t.ok}},[t._v(" =")]),e("button",[t._v("÷")]),e("button",{on:{click:t.inputContent}},[t._v("0")]),e("button",{on:{click:t.inputContent}},[t._v(".")]),e("button",[t._v("÷")])])])},g=[],h=o(1096),y=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let w=class extends r.ZP{constructor(...t){super(...t),(0,v.Z)(this,"value",void 0),(0,v.Z)(this,"output","0")}inputContent(t){const e=t.target,o=e.textContent;19!==this.output.length&&("0"!==this.output?this.output.indexOf(".")>=0&&"."===o||(this.output+=o):"0123456789".indexOf(o)>=0?this.output=o:this.output+=o)}remove(){1===this.output.length?this.output="0":this.output=this.output.slice(0,-1)}clear(){this.output="0"}ok(){const t=parseFloat(this.output);this.$emit("update:value",t),this.$emit("submit",t),this.output="0"}};y([(0,h.fI)(Number)],w.prototype,"value",void 0),w=y([h.wA],w);var _=w,b=_,x=(0,a.Z)(b,m,g,!1,null,"a8b7a90c",null),k=x.exports,P=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("label",{staticClass:"formItem"},[e("span",{staticClass:"name"},[t._v(" "+t._s(this.fieldName)+" ")]),e("input",{attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onValueChanged(e.target.value)}}})])])},O=[],T=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let C=class extends r.ZP{constructor(...t){super(...t),(0,v.Z)(this,"value",void 0),(0,v.Z)(this,"fieldName",void 0),(0,v.Z)(this,"placeholder",void 0)}onValueChanged(t){this.$emit("update:value",t)}};T([(0,h.fI)({default:""})],C.prototype,"value",void 0),T([(0,h.fI)({required:!0})],C.prototype,"fieldName",void 0),T([(0,h.fI)()],C.prototype,"placeholder",void 0),C=T([h.wA],C);var L=C,Z=L,j=(0,a.Z)(Z,P,O,!1,null,"7124b1e7",null),R=j.exports,S=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"tags"},[e("div",{staticClass:"new"},[e("button",{on:{click:t.createTag}},[t._v("新增标签")])]),e("ul",{staticClass:"current"},t._l(t.tagList,(function(o){return e("li",{key:o.id,class:{selected:t.selectedTags.indexOf(o)>=0},on:{click:function(e){return t.toggle(o)}}},[t._v(t._s(o.name))])})),0)])},$=[],I=o(1013),M=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let A=class extends r.ZP{createTag(){const t=window.prompt("请输入标签名");if(!t)return window.alert("标签名不能为空");this.$store.commit("createTag",t),console.log("state=>",this.$store.state),this.$store.state.createTagError&&(console.log("进来"),window.alert(this.$store.state.createTagError.message))}};A=M([I.ZP],A);var N=A,D=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let B=class extends((0,I.tA)(N)){constructor(...t){super(...t),(0,v.Z)(this,"selectedTags",[])}get tagList(){return this.$store.state.tagList}created(){this.$store.commit("fetchTags")}toggle(t){const e=this.selectedTags.indexOf(t);e>=0?this.selectedTags.splice(e,1):this.selectedTags.push(t),this.$emit("update:value",this.selectedTags)}};B=D([h.wA],B);var E=B,Y=E,F=(0,a.Z)(Y,S,$,!1,null,"4209d172",null),z=F.exports,V=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("ul",{staticClass:"tabs",class:{[t.classPrefix+"-tabs"]:t.classPrefix}},t._l(t.dataSource,(function(o){return e("li",{key:o.value,staticClass:"tabs-item",class:t.liClass(o),on:{click:function(e){return t.select(o)}}},[t._v(t._s(o.text)+" ")])})),0)},H=[],J=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let U=class extends r.ZP{constructor(...t){super(...t),(0,v.Z)(this,"dataSource",void 0),(0,v.Z)(this,"value",void 0),(0,v.Z)(this,"classPrefix",void 0)}liClass(t){return{[this.classPrefix+"-tab-item"]:this.classPrefix,selected:t.value===this.value}}select(t){this.$emit("update:value",t.value)}};J([(0,h.fI)({required:!0,type:Array})],U.prototype,"dataSource",void 0),J([(0,h.fI)(String)],U.prototype,"value",void 0),J([(0,h.fI)(String)],U.prototype,"classPrefix",void 0),U=J([h.wA],U);var q=U,W=q,G=(0,a.Z)(W,V,H,!1,null,"5dd65378",null),K=G.exports;const Q=Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}]);var X=Q,tt=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let et=class extends r.ZP{constructor(...t){super(...t),(0,v.Z)(this,"recordTypeList",X),(0,v.Z)(this,"record",{tags:[],notes:"",type:"-",amount:0})}get recordList(){return this.$store.state.recordList}created(){this.$store.commit("fetchRecords")}onUpdateNotes(t){console.log("note=>",t),this.record.notes=t}onUpdateAmount(t){console.log("amount=>",t),this.record.amount=parseFloat(t)}saveRecord(){if(!this.record.tags||0===this.record.tags.length)return window.alert("请至少选择一个标签！");this.$store.commit("createRecord",this.record),null===this.$store.state.createRecordError&&(window.alert("保存成功!"),this.record.notes="")}};et=tt([(0,h.wA)({components:{NumberPad:k,FormItems:R,Tags:z,Tab:K}})],et);var ot=et,rt=ot,nt=(0,a.Z)(rt,d,p,!1,null,"538444d2",null),st=nt.exports,at=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",[e("div",{staticClass:"tags"},t._l(t.tags,(function(o){return e("router-link",{key:o.id,staticClass:"tag",attrs:{to:`/labels/edit/${o.id}`}},[e("span",[t._v(t._s(o.name))]),e("Icon",{attrs:{name:"right"}})],1)})),1),e("div",{staticClass:"createTag-wrapper"},[e("Button",{staticClass:"createTag",on:{click:t.createTag}},[t._v("新建标签")])],1)])},ct=[],it=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("button",{staticClass:"button",on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)},lt=[],ut=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let ft=class extends r.ZP{};ft=ut([h.wA],ft);var dt=ft,pt=dt,vt=(0,a.Z)(pt,it,lt,!1,null,"415a57a5",null),mt=vt.exports,gt=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let ht=class extends((0,I.tA)(N)){get tags(){return this.$store.state.tagList}beforeCreate(){this.$store.commit("fetchTags")}};ht=gt([(0,h.wA)({components:{Button:mt},mixins:[N]})],ht);var yt=ht,wt=yt,_t=(0,a.Z)(wt,at,ct,!1,null,"5a6040ac",null),bt=_t.exports,xt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",[e("Tab",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),t.groupedList.length>0?e("ol",t._l(t.groupedList,(function(o,r){return e("li",{key:r},[e("h3",{staticClass:"title"},[t._v(t._s(t.beautify(o.title))+" "),e("span",[t._v("￥"+t._s(o.total))])]),e("ol",t._l(o.items,(function(o){return e("li",{key:o.id,staticClass:"record"},[e("span",[t._v(t._s(t.tagString(o.tags)))]),e("span",{staticClass:"notes"},[t._v(t._s(o.notes))]),e("span",[t._v("￥"+t._s(o.amount))])])})),0)])})),0):e("div",{staticClass:"noResult"},[t._v(" 目前没有相关记录 ")])],1)},kt=[],Pt=o(5743),Ot=o.n(Pt);function Tt(t){return JSON.parse(JSON.stringify(t))}var Ct=Tt,Lt=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let Zt=class extends r.ZP{constructor(...t){super(...t),(0,v.Z)(this,"type","-"),(0,v.Z)(this,"recordTypeList",X)}tagString(t){return 0===t.length?"无":t.map((t=>t.name)).join("，")}beautify(t){const e=Ot()(t),o=Ot()();return e.isSame(o,"day")?"今天":e.isSame(o.subtract(1,"day"),"day")?"昨天":e.isSame(o.subtract(2,"day"),"day")?"前天":e.isSame(o,"year")?e.format("MM月D日"):e.format("YYYY年MM月D日")}get recordList(){return this.$store.state.recordList}get groupedList(){const{recordList:t}=this,e=Ct(t).filter((t=>t.type===this.type)).sort(((t,e)=>Ot()(e.createdAt).valueOf()-Ot()(t.createdAt).valueOf()));if(0===e.length)return[];const o=[{title:Ot()(t[0].createdAt).format("YYYY-MM-DD"),items:[e[0]]}];for(let r=1;r<e.length;r++){const t=e[r],n=o[o.length-1];Ot()(n.title).isSame(Ot()(t.createdAt),"day")?n.items.push(t):o.push({title:Ot()(t.createdAt).format("YYYY-MM-DD"),items:[t]})}return o.map((t=>{t.total=t.items.reduce(((t,e)=>t+e.amount),0)})),o}beforeCreate(){this.$store.commit("fetchRecords")}};Zt=Lt([(0,h.wA)({components:{Tab:K}})],Zt);var jt=Zt,Rt=jt,St=(0,a.Z)(Rt,xt,kt,!1,null,"442e7cf6",null),$t=St.exports,It=function(){var t=this,e=t._self._c;return e("div",[e("div",[t._v("当前页面不存在，请检查网址是否正确")]),e("div",[e("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])},Mt=[],At={name:"NotFound"},Nt=At,Dt=(0,a.Z)(Nt,It,Mt,!1,null,"76e33e69",null),Bt=Dt.exports,Et=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Layout",[e("div",{staticClass:"navBar"},[e("Icon",{staticClass:"leftIcon",attrs:{name:"left"},on:{click:t.goBack}}),e("span",{staticClass:"title"},[t._v("编辑标签")]),e("span",{staticClass:"rightIcon"})],1),e("div",{staticClass:"form-wrapper"},[e("FormItems",{attrs:{value:t.currentTag.name,"field-name":"标签名",placeholder:"请输入标签名"},on:{"update:value":t.update}})],1),e("div",{staticClass:"button-wrapper"},[e("Button",{on:{click:t.remove}},[t._v("删除标签")])],1)])},Yt=[],Ft=function(t,e,o,r){var n,s=arguments.length,a=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};let zt=class extends r.ZP{get currentTag(){return this.$store.state.currentTag}created(){const t=this.$route.params.id;this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",t),this.currentTag||this.$router.replace("/404")}update(t){this.currentTag&&this.$store.commit("updateTag",{id:this.currentTag.id,name:t})}remove(){this.currentTag&&this.$store.commit("removeTag",this.currentTag.id)}goBack(){this.$router.back()}};zt=Ft([(0,h.wA)({components:{FormItems:R,Button:mt}})],zt);var Vt=zt,Ht=Vt,Jt=(0,a.Z)(Ht,Et,Yt,!1,null,"6341a790",null),Ut=Jt.exports;r.ZP.use(f.Z);const qt=[{path:"/",redirect:"/money"},{path:"/money",component:st},{path:"/labels",component:bt},{path:"/statistics",component:$t},{path:"/labels/edit/:id",component:Ut},{path:"*",component:Bt}],Wt=new f.Z({routes:qt});var Gt=Wt,Kt=(o(1703),o(3822));console.log("idmax=>",window.localStorage.getItem("_idMax"));let Qt=parseInt(window.localStorage.getItem("_idMax")||"0")||0;function Xt(){return Qt++,window.localStorage.setItem("_idMax",Qt.toString()),Qt}var te=Xt;r.ZP.use(Kt.ZP);const ee=new Kt.ZP.Store({state:{recordList:[],createRecordError:null,createTagError:null,tagList:[],currentTag:void 0},mutations:{setCurrentTag(t,e){t.currentTag=t.tagList.filter((t=>t.id===e))[0]},updateTag(t,e){const{id:o,name:r}=e,n=t.tagList.map((t=>t.id));if(n.indexOf(o)>=0){const e=t.tagList.map((t=>t.name));if(e.indexOf(r)>=0)window.alert("标签名重复!");else{const e=t.tagList.filter((t=>t.id===o))[0];e.name=r,ee.commit("saveTags")}}},removeTag(t,e){let o=-1;for(let r=0;r<t.tagList.length;r++)if(t.tagList[r].id===e){o=r;break}o>=0?(t.tagList.splice(o,1),ee.commit("saveTags"),Gt.back()):window.alert("删除失败")},fetchRecords(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},createRecord(t,e){const o=Ct(e);o.createdAt=(new Date).toISOString(),t.recordList?.push(o),ee.commit("saveRecords")},saveRecords(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(ee.commit("createTag","衣"),ee.commit("createTag","食"),ee.commit("createTag","住"),ee.commit("createTag","行"))},createTag(t,e){t.createTagError=null;const o=t.tagList.map((t=>t.name));if(o.indexOf(e)>=0)return void(t.createTagError=new Error("标签名重复！"));const r=te().toString();t.tagList.push({id:r,name:e}),ee.commit("saveTags")},saveTags(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))}}});var oe=ee,re=function(){var t=this,e=t._self._c;return e("nav",[e("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[e("Icon",{attrs:{name:"money"}}),t._v(" 记账 ")],1),e("router-link",{staticClass:"item",attrs:{to:"/labels","active-class":"selected"}},[e("Icon",{attrs:{name:"label"}}),t._v(" 标签 ")],1),e("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[e("Icon",{attrs:{name:"statistics"}}),t._v(" 统计 ")],1)],1)},ne=[],se={name:"Nav"},ae=se,ce=(0,a.Z)(ae,re,ne,!1,null,"30b250b2",null),ie=ce.exports,le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout-wrapper",class:t.classPrefix&&`${t.classPrefix}-wrapper`},[e("div",{staticClass:"content",class:t.classPrefix&&`${t.classPrefix}-content`},[t._t("default")],2),e("Nav")],1)},ue=[],fe={props:["classPrefix"],name:"Layout"},de=fe,pe=(0,a.Z)(de,le,ue,!1,null,"a2b8e1dc",null),ve=pe.exports,me=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"icon",on:{click:function(e){return t.$emit("click",e)}}},[e("use",{attrs:{"xlink:href":"#"+t.name}})])},ge=[];let he=t=>t.keys().forEach(t);try{he(o(9566))}catch(xe){console.log(xe)}var ye={props:["name"],name:"Icon"},we=ye,_e=(0,a.Z)(we,me,ge,!1,null,"912be4d6",null),be=_e.exports;if(r.ZP.config.productionTip=!1,r.ZP.component("Nav",ie),r.ZP.component("Layout",ve),r.ZP.component("Icon",be),new r.ZP({router:Gt,store:oe,render:t=>t(l)}).$mount("#app"),window.onload=function(){setTimeout((function(){window.scrollTo(0,1e4)}),0)},document.documentElement.clientWidth>500){window.alert("请使用手机扫描二维码访问本页面，以保证浏览效果");const t=document.createElement("img");t.src="/tallyWeb.png",t.style.position="fixed",t.style.left="50%",t.style.top="50%",t.style.transform="translate(-50%,-50%)",t.style.boxShadow="0 0 10px rgba(0,0,0,0.25)",document.body.appendChild(t)}},9566:function(t,e,o){var r={"./label.svg":6479,"./left.svg":3094,"./money.svg":5951,"./right.svg":1887,"./statistics.svg":498};function n(t){var e=s(t);return o(e)}function s(t){if(!o.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id=9566}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,s){if(!r){var a=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],s=t[u][2];for(var c=!0,i=0;i<r.length;i++)(!1&s||a>=s)&&Object.keys(o.O).every((function(t){return o.O[t](r[i])}))?r.splice(i--,1):(c=!1,s<a&&(a=s));if(c){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,n,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,a=r[0],c=r[1],i=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(i)var u=i(o)}for(e&&e(r);l<a.length;l++)s=a[l],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},r=self["webpackChunktally"]=self["webpackChunktally"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(3406)}));r=o.O(r)})();
//# sourceMappingURL=app.3b1d51dd.js.map